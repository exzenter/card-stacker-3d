(()=>{"use strict";var e,l={4(){const e=window.wp.blocks,l=window.React,t=window.wp.i18n,a=window.wp.blockEditor,n=window.wp.components,o=window.wp.element;function r({cards:e,onChange:a,onClose:r}){const[c,i]=(0,o.useState)([...e]),s=(e,l,t)=>{const a=[...c];a[e]={...a[e],[l]:t},i(a)},d=(e,l)=>{const t=e+l;if(t<0||t>=c.length)return;const a=[...c];[a[e],a[t]]=[a[t],a[e]],i(a)};return(0,l.createElement)(n.Modal,{title:(0,t.__)("Karten bearbeiten","3d-cards-block"),onRequestClose:r,size:"large",style:{maxWidth:"800px",width:"100%"}},(0,l.createElement)(n.__experimentalVStack,{spacing:4},(0,l.createElement)("p",{style:{color:"#666",margin:0}},c.length," von 36 Karten verwendet"),(0,l.createElement)("div",{style:{maxHeight:"60vh",overflowY:"auto",paddingRight:"10px"}},c.map((e,a)=>(0,l.createElement)("div",{key:a,style:{padding:"16px",marginBottom:"12px",border:"1px solid #e4e8ec",borderRadius:"8px",background:"#fafafa"}},(0,l.createElement)(n.__experimentalHStack,{alignment:"top",spacing:3},(0,l.createElement)("div",{style:{flex:1}},(0,l.createElement)(n.__experimentalHStack,{spacing:2,style:{marginBottom:"12px"}},(0,l.createElement)("span",{style:{background:"#6366f1",color:"#fff",padding:"4px 10px",borderRadius:"4px",fontWeight:"bold",fontSize:"12px"}},"Karte ",a+1),(0,l.createElement)("div",{style:{flex:1}}),(0,l.createElement)(n.Button,{onClick:()=>d(a,-1),disabled:0===a,size:"small",variant:"secondary"},"▲"),(0,l.createElement)(n.Button,{onClick:()=>d(a,1),disabled:a===c.length-1,size:"small",variant:"secondary"},"▼"),(0,l.createElement)(n.Button,{onClick:()=>(e=>{if(c.length<=1)return;const l=c.filter((l,t)=>t!==e);i(l)})(a),disabled:c.length<=1,isDestructive:!0,size:"small"},"✕")),(0,l.createElement)(n.__experimentalHStack,{spacing:3,alignment:"top"},(0,l.createElement)("div",{style:{flex:1}},(0,l.createElement)(n.TextControl,{label:(0,t.__)("Titel","3d-cards-block"),value:e.title,onChange:e=>s(a,"title",e)}),(0,l.createElement)(n.TextControl,{label:(0,t.__)("Untertitel","3d-cards-block"),value:e.subtitle,onChange:e=>s(a,"subtitle",e)})),(0,l.createElement)("div",{style:{flex:2}},(0,l.createElement)(n.TextareaControl,{label:(0,t.__)("SVG Code","3d-cards-block"),value:e.svg,onChange:e=>s(a,"svg",e),rows:5,style:{fontFamily:"monospace",fontSize:"11px"}}))),(0,l.createElement)(n.__experimentalHStack,{spacing:3,style:{marginTop:"12px"}},(0,l.createElement)(n.TextControl,{label:(0,t.__)("Link URL (optional)","3d-cards-block"),value:e.linkUrl||"",onChange:e=>s(a,"linkUrl",e),placeholder:"https://...",help:(0,t.__)("Fügt einen Link zur Karte hinzu.","3d-cards-block")}),(0,l.createElement)(n.TextControl,{label:(0,t.__)("JS Event Name (optional)","3d-cards-block"),value:e.customEvent||"",onChange:e=>s(a,"customEvent",e),placeholder:"my-custom-event",help:(0,t.__)("Feuert ein CustomEvent beim Klick.","3d-cards-block")}))),(0,l.createElement)("div",{style:{width:"80px",height:"80px",border:"1px solid #ddd",borderRadius:"8px",background:"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},dangerouslySetInnerHTML:{__html:e.svg}}))))),(0,l.createElement)(n.__experimentalHStack,{spacing:3},(0,l.createElement)(n.Button,{variant:"secondary",onClick:()=>{c.length>=36||i([...c,{svg:'<svg viewBox="0 0 80 80" fill="none"><circle cx="40" cy="40" r="20" fill="#6366f1"/></svg>',title:"Neue Karte",subtitle:"Beschreibung"}])},disabled:c.length>=36},"+ ",(0,t.__)("Karte hinzufügen","3d-cards-block")),(0,l.createElement)("div",{style:{flex:1}}),(0,l.createElement)(n.Button,{variant:"tertiary",onClick:r},(0,t.__)("Abbrechen","3d-cards-block")),(0,l.createElement)(n.Button,{variant:"primary",onClick:()=>{a(c),r()}},(0,t.__)("Speichern","3d-cards-block")))))}const c=JSON.parse('{"UU":"cards3d/cards-block"}');(0,e.registerBlockType)(c.UU,{edit:function({attributes:e,setAttributes:c}){const{cards:i,cardDepth:s,zOffset:d,xOffset:m,yOffset:b,logoSize:u,logoX:g,logoY:p,titleY:h,titleX:v,subtitleY:_,subtitleX:k,fontSize:x,hoverLift:E,globalScale:C,vertPos:f,cameraRotateX:y,orthographic:w,cardFaceColor:S,cardBorderColor:R,depthColor1:H,depthColor2:T,blockHeight:B,horPos:X,globalScaleTablet:P,vertPosTablet:$,horPosTablet:O,cameraRotateXTablet:z,orthographicTablet:N,globalScaleMobile:M,vertPosMobile:Y,horPosMobile:L,cameraRotateXMobile:V,orthographicMobile:K,stayHover:F,slideHover:Z,slideHoverX:D,slideHoverY:U,slideHoverZ:I,shadowColor:G,shadowOpacity:j,shadowX:A,shadowY:W,shadowBlur:J,stayHoverTablet:q,stayHoverMobile:Q,slideHoverTablet:ee,slideHoverMobile:le,slideHoverXTablet:te,slideHoverXMobile:ae,slideHoverYTablet:ne,slideHoverYMobile:oe,slideHoverZTablet:re,slideHoverZMobile:ce,hoverLiftTablet:ie,hoverLiftMobile:se}=e,[de,me]=(0,o.useState)(!1),[be,ue]=(0,o.useState)("desktop");let ge=C,pe=f,he=X,ve=y,_e=w,ke=F,xe=Z,Ee=D,Ce=U,fe=I,ye=E;"tablet"===be?(null!=P&&(ge=P),null!=$&&(pe=$),null!=O&&(he=O),null!=z&&(ve=z),null!=N&&(_e=N),null!=q&&(ke=q),null!=ee&&(xe=ee),null!=te&&(Ee=te),null!=ne&&(Ce=ne),null!=re&&(fe=re),null!=ie&&(ye=ie)):"mobile"===be&&(ge=null!=M?M:null!=P?P:C,pe=null!=Y?Y:null!=$?$:f,he=null!=L?L:null!=O?O:X,ve=null!=V?V:null!=z?z:y,_e=null!=K?K:null!=N?N:w,ke=null!=Q?Q:null!=q?q:F,xe=null!=le?le:null!=ee?ee:Z,Ee=null!=ae?ae:null!=te?te:D,Ce=null!=oe?oe:null!=ne?ne:U,fe=null!=ce?ce:null!=re?re:I,ye=null!=se?se:null!=ie?ie:E);const we=ge/100,Se=(0,a.useBlockProps)({className:"cards3d-editor-wrapper"});return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(a.InspectorControls,null,(0,l.createElement)(n.PanelBody,{title:(0,t.__)("Karten verwalten","3d-cards-block"),initialOpen:!0},(0,l.createElement)(n.__experimentalVStack,{spacing:3},(0,l.createElement)("p",null,i.length," ",1===i.length?"Karte":"Karten"," konfiguriert"),(0,l.createElement)(n.Button,{variant:"primary",onClick:()=>me(!0),style:{width:"100%"}},(0,t.__)("Karten bearbeiten","3d-cards-block")))),(0,l.createElement)(n.PanelBody,{title:(0,t.__)("Interaktion","3d-cards-block"),initialOpen:!1},(0,l.createElement)(n.TabPanel,{className:"cards3d-interaction-tabs",activeClass:"is-active",onSelect:e=>ue(e),tabs:[{name:"desktop",title:"Desktop",className:"cards3d-tab-desktop"},{name:"tablet",title:"Tablet",className:"cards3d-tab-tablet"},{name:"mobile",title:"Mobile",className:"cards3d-tab-mobile"}],initialTabName:be},a=>{var o,r;const i="desktop"===a.name,s="tablet"===a.name,d="mobile"===a.name,m=l=>i?e[l]:s?e[l+"Tablet"]:d?e[l+"Mobile"]:void 0,b=(e,l)=>{i&&c({[e]:l}),s&&c({[e+"Tablet"]:l}),d&&c({[e+"Mobile"]:l})},u=l=>{var t;return i?null:s?e[l]:d?null!==(t=e[l+"Tablet"])&&void 0!==t?t:e[l]:void 0},g=m("stayHover"),p=m("slideHover"),h=m("slideHoverX"),v=m("slideHoverY"),_=m("slideHoverZ"),k=m("hoverLift"),x=null!==(o=null!=g?g:u("stayHover"))&&void 0!==o&&o,E=null!==(r=null!=p?p:u("slideHover"))&&void 0!==r&&r;return(0,l.createElement)(n.__experimentalVStack,{spacing:4,style:{marginTop:"16px"}},!i&&(0,l.createElement)("p",{style:{fontSize:"12px",color:"#666",fontStyle:"italic",margin:0}},(0,t.__)("Werte leer lassen um Einstellungen zu erben.","3d-cards-block")),(0,l.createElement)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},(0,l.createElement)(n.ToggleControl,{label:(0,t.__)("Stay Hover","3d-cards-block"),checked:x,onChange:e=>b("stayHover",e),help:(0,t.__)("Zuletzt gehoverte Karte bleibt angehoben.","3d-cards-block"),style:{marginBottom:0}}),!i&&null!==g&&(0,l.createElement)(n.Button,{isSmall:!0,variant:"tertiary",onClick:()=>b("stayHover",null)},"Reset")),(0,l.createElement)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},(0,l.createElement)(n.ToggleControl,{label:(0,t.__)("Slide Hover","3d-cards-block"),checked:E,onChange:e=>b("slideHover",e),help:(0,t.__)("Karten sliden zur Seite.","3d-cards-block"),style:{marginBottom:0}}),!i&&null!==p&&(0,l.createElement)(n.Button,{isSmall:!0,variant:"tertiary",onClick:()=>b("slideHover",null)},"Reset")),E&&(0,l.createElement)(n.__experimentalVStack,{spacing:3,style:{marginLeft:"16px",borderLeft:"2px solid #ddd",paddingLeft:"12px"}},(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Horizontaler Slide (X)","3d-cards-block"),value:h,onChange:e=>b("slideHoverX",e),min:-500,max:500,allowReset:!i,resetFallbackValue:null,placeholder:!i&&u("slideHoverX")}),(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Vertikaler Slide (Y)","3d-cards-block"),value:v,onChange:e=>b("slideHoverY",e),min:-500,max:500,allowReset:!i,resetFallbackValue:null,placeholder:!i&&u("slideHoverY")}),(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Z Override","3d-cards-block"),value:_,onChange:e=>b("slideHoverZ",e),min:0,max:200,allowReset:!i,resetFallbackValue:null,placeholder:!i&&u("slideHoverZ")})),(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Hover Lift (Standard)","3d-cards-block"),value:k,onChange:e=>b("hoverLift",e),min:20,max:300,allowReset:!i,resetFallbackValue:null,placeholder:!i&&u("hoverLift"),help:(0,t.__)("Anhebung bei Hover (wenn Slide aus)","3d-cards-block")}))})),(0,l.createElement)(n.PanelBody,{title:(0,t.__)("3D Einstellungen","3d-cards-block"),initialOpen:!1},(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Kartendicke","3d-cards-block"),value:s,onChange:e=>c({cardDepth:e}),min:0,max:30}),(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Z-Abstand","3d-cards-block"),value:d,onChange:e=>c({zOffset:e}),min:20,max:150}),(0,l.createElement)(n.RangeControl,{label:(0,t.__)("X-Verschiebung","3d-cards-block"),value:m,onChange:e=>c({xOffset:e}),min:-100,max:100}),(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Y-Verschiebung","3d-cards-block"),value:b,onChange:e=>c({yOffset:e}),min:-100,min:-100,max:100})),(0,l.createElement)(n.PanelBody,{title:(0,t.__)("Ansicht","3d-cards-block"),initialOpen:!1},(0,l.createElement)(n.TabPanel,{className:"cards3d-view-tabs",activeClass:"is-active",onSelect:e=>ue(e),tabs:[{name:"desktop",title:"Desktop",className:"cards3d-tab-desktop"},{name:"tablet",title:"Tablet",className:"cards3d-tab-tablet"},{name:"mobile",title:"Mobile",className:"cards3d-tab-mobile"}]},a=>{const o="desktop"===a.name,r="tablet"===a.name,i="mobile"===a.name,s=l=>o?e[l]:r?e[l+"Tablet"]:i?e[l+"Mobile"]:void 0,d=(e,l)=>{o&&c({[e]:l}),r&&c({[e+"Tablet"]:l}),i&&c({[e+"Mobile"]:l})},m=l=>o?null:r?e[l]:i?null!==e[l+"Tablet"]&&void 0!==e[l+"Tablet"]?e[l+"Tablet"]:e[l]:void 0,b=s("globalScale"),u=s("vertPos"),g=s("horPos"),p=s("cameraRotateX"),h=s("orthographic");return(0,l.createElement)(n.__experimentalVStack,{spacing:4,style:{marginTop:"16px"}},!o&&(0,l.createElement)("p",{style:{fontSize:"12px",color:"#666",fontStyle:"italic",margin:0}},(0,t.__)("Werte leer lassen um Einstellungen vom größeren Gerät zu übernehmen.","3d-cards-block")),(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Gesamt-Skalierung (%)","3d-cards-block"),value:b,onChange:e=>d("globalScale",e),min:50,max:350,allowReset:!o,resetFallbackValue:null,placeholder:!o&&m("globalScale")}),o&&(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Block-Höhe (px)","3d-cards-block"),value:B,onChange:e=>c({blockHeight:e}),min:200,max:1200,help:(0,t.__)("Nur Desktop Einstellung","3d-cards-block")}),(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Vertikale Position","3d-cards-block"),value:u,onChange:e=>d("vertPos",e),min:-300,max:300,allowReset:!o,resetFallbackValue:null}),(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Horizontale Position","3d-cards-block"),value:g,onChange:e=>d("horPos",e),min:-300,max:300,allowReset:!o,resetFallbackValue:null}),(0,l.createElement)(n.__experimentalHStack,{spacing:2},(0,l.createElement)("span",null,(0,t.__)("Kamera-Neigung:","3d-cards-block")," ",null!=p?p:m("cameraRotateX"),"°")),(0,l.createElement)(n.ButtonGroup,null,(0,l.createElement)(n.Button,{variant:"secondary",onClick:()=>{const e=null!=p?p:m("cameraRotateX");d("cameraRotateX",Math.max(0,e-5))}},"▼ -5°"),(0,l.createElement)(n.Button,{variant:"secondary",onClick:()=>{const e=null!=p?p:m("cameraRotateX");d("cameraRotateX",Math.min(90,e+5))}},"▲ +5°"),!o&&(0,l.createElement)(n.Button,{variant:"tertiary",onClick:()=>d("cameraRotateX",null),disabled:null===p,label:"Reset",icon:"image-rotate"},"✕")),(0,l.createElement)(n.ToggleControl,{label:(0,t.__)("Orthografische Ansicht","3d-cards-block"),checked:null!=h?h:m("orthographic"),onChange:e=>d("orthographic",e)}))})),(0,l.createElement)(n.PanelBody,{title:(0,t.__)("Logo Einstellungen","3d-cards-block"),initialOpen:!1},(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Logo-Größe","3d-cards-block"),value:u,onChange:e=>c({logoSize:e}),min:20,max:300}),(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Logo X-Position (%)","3d-cards-block"),value:g,onChange:e=>c({logoX:e}),min:0,max:100}),(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Logo Y-Position (%)","3d-cards-block"),value:p,onChange:e=>c({logoY:e}),min:0,max:100})),(0,l.createElement)(n.PanelBody,{title:(0,t.__)("Text Einstellungen","3d-cards-block"),initialOpen:!1},(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Schriftgröße","3d-cards-block"),value:x,onChange:e=>c({fontSize:e}),min:8,max:32}),(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Titel Y-Position","3d-cards-block"),value:h,onChange:e=>c({titleY:e}),min:8,max:100}),(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Titel X-Position","3d-cards-block"),value:v,onChange:e=>c({titleX:e}),min:8,max:200}),(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Untertitel Y-Position (%)","3d-cards-block"),value:_,onChange:e=>c({subtitleY:e}),min:0,max:200}),(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Untertitel X-Position","3d-cards-block"),value:k,onChange:e=>c({subtitleX:e}),min:8,max:100})),(0,l.createElement)(a.PanelColorSettings,{title:(0,t.__)("Farben","3d-cards-block"),initialOpen:!1,colorSettings:[{value:S,onChange:e=>c({cardFaceColor:e}),label:(0,t.__)("Kartenfarbe","3d-cards-block")},{value:R,onChange:e=>c({cardBorderColor:e}),label:(0,t.__)("Randfarbe","3d-cards-block")},{value:H,onChange:e=>c({depthColor1:e}),label:(0,t.__)("Dicke Gradient Start","3d-cards-block")},{value:T,onChange:e=>c({depthColor2:e}),label:(0,t.__)("Dicke Gradient Ende","3d-cards-block")},{value:G,onChange:e=>c({shadowColor:e}),label:(0,t.__)("Schattenfarbe","3d-cards-block")}]}),(0,l.createElement)(n.PanelBody,{title:(0,t.__)("Schattendetails","3d-cards-block"),initialOpen:!1},(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Deckkraft (%)","3d-cards-block"),value:j,onChange:e=>c({shadowOpacity:e}),min:0,max:100}),(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Verschiebung X","3d-cards-block"),value:A,onChange:e=>c({shadowX:e}),min:-100,max:100}),(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Verschiebung Y","3d-cards-block"),value:W,onChange:e=>c({shadowY:e}),min:-100,max:100}),(0,l.createElement)(n.RangeControl,{label:(0,t.__)("Weichzeichner (Blur)","3d-cards-block"),value:J,onChange:e=>c({shadowBlur:e}),min:0,max:100}))),de&&(0,l.createElement)(r,{cards:i,onChange:e=>c({cards:e}),onClose:()=>me(!1)}),(0,l.createElement)("div",{...Se,style:{minHeight:`${B}px`}},(0,l.createElement)("div",{className:"cards3d-preview-container",style:{perspective:_e?"none":"1000px",minHeight:`${B}px`,border:"desktop"!==be?"2px dashed #e4e8ec":"none",position:"relative"}},"desktop"!==be&&(0,l.createElement)("div",{style:{position:"absolute",top:10,right:10,background:"#eee",padding:"4px 8px",borderRadius:"4px",fontSize:"10px",textTransform:"uppercase",fontWeight:"bold",zIndex:10}},be," Preview"),(0,l.createElement)("div",{className:"cards3d-container",style:{transform:`translateX(${he}px) rotateX(${ve}deg) rotateZ(45deg) scale3d(${we}, ${we}, ${we})`,marginBottom:`${pe}px`,"--card-depth":`${s}px`,"--shadow-color":G,"--shadow-opacity":j,"--shadow-x":A,"--shadow-y":W,"--shadow-blur":J}},i.map((e,t)=>{const a=t*d,n=t*m,o=t*b;let r=`translateZ(${a}px) translateX(${n}px) translateY(${o}px)`;return xe&&t===i.length-1&&(r=`translateZ(${a+fe}px) translateX(${n+Ee}px) translateY(${o+Ce}px)`),(0,l.createElement)("div",{key:t,className:"cards3d-card",style:{transform:r}},(0,l.createElement)("div",{className:"cards3d-face",style:{background:S,boxShadow:`0 0 0 1px ${R}`}}),(0,l.createElement)("div",{className:"cards3d-edge-bottom",style:{background:`linear-gradient(to bottom, ${H}, ${T})`}}),(0,l.createElement)("div",{className:"cards3d-edge-right",style:{background:`linear-gradient(to right, ${H}, ${T})`}}),(0,l.createElement)("div",{className:"cards3d-content"},(0,l.createElement)("div",{className:"cards3d-logo",style:{width:`${u}px`,height:`${u}px`,left:`${g}%`,top:`${p}%`},dangerouslySetInnerHTML:{__html:e.svg}}),(0,l.createElement)("span",{className:"cards3d-title",style:{bottom:`${h}px`,left:`${v}px`,fontSize:`${x}px`}},e.title),(0,l.createElement)("span",{className:"cards3d-subtitle",style:{bottom:`${_}%`,right:`${k}px`,fontSize:`${Math.round(.7*x)}px`}},e.subtitle)))})))))},save:()=>null})}},t={};function a(e){var n=t[e];if(void 0!==n)return n.exports;var o=t[e]={exports:{}};return l[e](o,o.exports,a),o.exports}a.m=l,e=[],a.O=(l,t,n,o)=>{if(!t){var r=1/0;for(d=0;d<e.length;d++){for(var[t,n,o]=e[d],c=!0,i=0;i<t.length;i++)(!1&o||r>=o)&&Object.keys(a.O).every(e=>a.O[e](t[i]))?t.splice(i--,1):(c=!1,o<r&&(r=o));if(c){e.splice(d--,1);var s=n();void 0!==s&&(l=s)}}return l}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[t,n,o]},a.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={57:0,350:0};a.O.j=l=>0===e[l];var l=(l,t)=>{var n,o,[r,c,i]=t,s=0;if(r.some(l=>0!==e[l])){for(n in c)a.o(c,n)&&(a.m[n]=c[n]);if(i)var d=i(a)}for(l&&l(t);s<r.length;s++)o=r[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},t=globalThis.webpackChunk_3d_cards_block=globalThis.webpackChunk_3d_cards_block||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))})();var n=a.O(void 0,[350],()=>a(4));n=a.O(n)})();