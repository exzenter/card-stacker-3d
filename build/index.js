(()=>{"use strict";var e,t={4(){const e=window.wp.blocks,t=window.React,l=window.wp.i18n,a=window.wp.blockEditor,n=window.wp.components,o=window.wp.element;function r({cards:e,onChange:a,onClose:r}){const[c,i]=(0,o.useState)([...e]),s=(e,t,l)=>{const a=[...c];a[e]={...a[e],[t]:l},i(a)},d=(e,t)=>{const l=e+t;if(l<0||l>=c.length)return;const a=[...c];[a[e],a[l]]=[a[l],a[e]],i(a)};return(0,t.createElement)(n.Modal,{title:(0,l.__)("Karten bearbeiten","3d-cards-block"),onRequestClose:r,size:"large",style:{maxWidth:"800px",width:"100%"}},(0,t.createElement)(n.__experimentalVStack,{spacing:4},(0,t.createElement)("p",{style:{color:"#666",margin:0}},c.length," von 36 Karten verwendet"),(0,t.createElement)("div",{style:{maxHeight:"60vh",overflowY:"auto",paddingRight:"10px"}},c.map((e,a)=>(0,t.createElement)("div",{key:a,style:{padding:"16px",marginBottom:"12px",border:"1px solid #e4e8ec",borderRadius:"8px",background:"#fafafa"}},(0,t.createElement)(n.__experimentalHStack,{alignment:"top",spacing:3},(0,t.createElement)("div",{style:{flex:1}},(0,t.createElement)(n.__experimentalHStack,{spacing:2,style:{marginBottom:"12px"}},(0,t.createElement)("span",{style:{background:"#6366f1",color:"#fff",padding:"4px 10px",borderRadius:"4px",fontWeight:"bold",fontSize:"12px"}},"Karte ",a+1),(0,t.createElement)("div",{style:{flex:1}}),(0,t.createElement)(n.Button,{onClick:()=>d(a,-1),disabled:0===a,size:"small",variant:"secondary"},"▲"),(0,t.createElement)(n.Button,{onClick:()=>d(a,1),disabled:a===c.length-1,size:"small",variant:"secondary"},"▼"),(0,t.createElement)(n.Button,{onClick:()=>(e=>{if(c.length<=1)return;const t=c.filter((t,l)=>l!==e);i(t)})(a),disabled:c.length<=1,isDestructive:!0,size:"small"},"✕")),(0,t.createElement)(n.__experimentalHStack,{spacing:3,alignment:"top"},(0,t.createElement)("div",{style:{flex:1}},(0,t.createElement)(n.TextControl,{label:(0,l.__)("Titel","3d-cards-block"),value:e.title,onChange:e=>s(a,"title",e)}),(0,t.createElement)(n.TextControl,{label:(0,l.__)("Untertitel","3d-cards-block"),value:e.subtitle,onChange:e=>s(a,"subtitle",e)})),(0,t.createElement)("div",{style:{flex:2}},(0,t.createElement)(n.TextareaControl,{label:(0,l.__)("SVG Code","3d-cards-block"),value:e.svg,onChange:e=>s(a,"svg",e),rows:5,style:{fontFamily:"monospace",fontSize:"11px"}}))),(0,t.createElement)(n.__experimentalHStack,{spacing:3,style:{marginTop:"12px"}},(0,t.createElement)(n.TextControl,{label:(0,l.__)("Link URL (optional)","3d-cards-block"),value:e.linkUrl||"",onChange:e=>s(a,"linkUrl",e),placeholder:"https://...",help:(0,l.__)("Fügt einen Link zur Karte hinzu.","3d-cards-block")}),(0,t.createElement)(n.TextControl,{label:(0,l.__)("JS Event Name (optional)","3d-cards-block"),value:e.customEvent||"",onChange:e=>s(a,"customEvent",e),placeholder:"my-custom-event",help:(0,l.__)("Feuert ein CustomEvent beim Klick.","3d-cards-block")}))),(0,t.createElement)("div",{style:{width:"80px",height:"80px",border:"1px solid #ddd",borderRadius:"8px",background:"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},dangerouslySetInnerHTML:{__html:e.svg}}))))),(0,t.createElement)(n.__experimentalHStack,{spacing:3},(0,t.createElement)(n.Button,{variant:"secondary",onClick:()=>{c.length>=36||i([...c,{svg:'<svg viewBox="0 0 80 80" fill="none"><circle cx="40" cy="40" r="20" fill="#6366f1"/></svg>',title:"Neue Karte",subtitle:"Beschreibung"}])},disabled:c.length>=36},"+ ",(0,l.__)("Karte hinzufügen","3d-cards-block")),(0,t.createElement)("div",{style:{flex:1}}),(0,t.createElement)(n.Button,{variant:"tertiary",onClick:r},(0,l.__)("Abbrechen","3d-cards-block")),(0,t.createElement)(n.Button,{variant:"primary",onClick:()=>{a(c),r()}},(0,l.__)("Speichern","3d-cards-block")))))}const c=JSON.parse('{"UU":"cards3d/cards-block"}');(0,e.registerBlockType)(c.UU,{edit:function({attributes:e,setAttributes:c}){const{cards:i,cardDepth:s,zOffset:d,xOffset:m,yOffset:b,logoSize:g,logoX:p,logoY:u,titleY:h,titleX:_,subtitleY:k,subtitleX:v,fontSize:E,hoverLift:x,globalScale:C,vertPos:f,cameraRotateX:y,orthographic:S,cardFaceColor:R,cardBorderColor:w,depthColor1:P,depthColor2:B,blockHeight:T,horPos:$,globalScaleTablet:O,vertPosTablet:X,horPosTablet:z,cameraRotateXTablet:N,orthographicTablet:H,globalScaleMobile:K,vertPosMobile:M,horPosMobile:L,cameraRotateXMobile:Y,orthographicMobile:V}=e,[F,U]=(0,o.useState)(!1),[A,D]=(0,o.useState)("desktop");let W=C,G=f,I=$,j=y,Z=S;"tablet"===A?(null!=O&&(W=O),null!=X&&(G=X),null!=z&&(I=z),null!=N&&(j=N),null!=H&&(Z=H)):"mobile"===A&&(W=null!=K?K:null!=O?O:C,G=null!=M?M:null!=X?X:f,I=null!=L?L:null!=z?z:$,j=null!=Y?Y:null!=N?N:y,Z=null!=V?V:null!=H?H:S);const J=W/100,q=(0,a.useBlockProps)({className:"cards3d-editor-wrapper"});return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(a.InspectorControls,null,(0,t.createElement)(n.PanelBody,{title:(0,l.__)("Karten verwalten","3d-cards-block"),initialOpen:!0},(0,t.createElement)(n.__experimentalVStack,{spacing:3},(0,t.createElement)("p",null,i.length," ",1===i.length?"Karte":"Karten"," konfiguriert"),(0,t.createElement)(n.Button,{variant:"primary",onClick:()=>U(!0),style:{width:"100%"}},(0,l.__)("Karten bearbeiten","3d-cards-block")))),(0,t.createElement)(n.PanelBody,{title:(0,l.__)("3D Einstellungen","3d-cards-block"),initialOpen:!1},(0,t.createElement)(n.RangeControl,{label:(0,l.__)("Kartendicke","3d-cards-block"),value:s,onChange:e=>c({cardDepth:e}),min:0,max:30}),(0,t.createElement)(n.RangeControl,{label:(0,l.__)("Z-Abstand","3d-cards-block"),value:d,onChange:e=>c({zOffset:e}),min:20,max:150}),(0,t.createElement)(n.RangeControl,{label:(0,l.__)("X-Verschiebung","3d-cards-block"),value:m,onChange:e=>c({xOffset:e}),min:-100,max:100}),(0,t.createElement)(n.RangeControl,{label:(0,l.__)("Y-Verschiebung","3d-cards-block"),value:b,onChange:e=>c({yOffset:e}),min:-100,max:100}),(0,t.createElement)(n.RangeControl,{label:(0,l.__)("Hover Lift","3d-cards-block"),value:x,onChange:e=>c({hoverLift:e}),min:20,max:200})),(0,t.createElement)(n.PanelBody,{title:(0,l.__)("Ansicht","3d-cards-block"),initialOpen:!1},(0,t.createElement)(n.TabPanel,{className:"cards3d-view-tabs",activeClass:"is-active",onSelect:e=>D(e),tabs:[{name:"desktop",title:"Desktop",className:"cards3d-tab-desktop"},{name:"tablet",title:"Tablet",className:"cards3d-tab-tablet"},{name:"mobile",title:"Mobile",className:"cards3d-tab-mobile"}]},a=>{const o="desktop"===a.name,r="tablet"===a.name,i="mobile"===a.name,s=t=>o?e[t]:r?e[t+"Tablet"]:i?e[t+"Mobile"]:void 0,d=(e,t)=>{o&&c({[e]:t}),r&&c({[e+"Tablet"]:t}),i&&c({[e+"Mobile"]:t})},m=t=>o?null:r?e[t]:i?null!==e[t+"Tablet"]&&void 0!==e[t+"Tablet"]?e[t+"Tablet"]:e[t]:void 0,b=s("globalScale"),g=s("vertPos"),p=s("horPos"),u=s("cameraRotateX"),h=s("orthographic");return(0,t.createElement)(n.__experimentalVStack,{spacing:4,style:{marginTop:"16px"}},!o&&(0,t.createElement)("p",{style:{fontSize:"12px",color:"#666",fontStyle:"italic",margin:0}},(0,l.__)("Werte leer lassen um Einstellungen vom größeren Gerät zu übernehmen.","3d-cards-block")),(0,t.createElement)(n.RangeControl,{label:(0,l.__)("Gesamt-Skalierung (%)","3d-cards-block"),value:b,onChange:e=>d("globalScale",e),min:50,max:350,allowReset:!o,resetFallbackValue:null,placeholder:!o&&m("globalScale")}),o&&(0,t.createElement)(n.RangeControl,{label:(0,l.__)("Block-Höhe (px)","3d-cards-block"),value:T,onChange:e=>c({blockHeight:e}),min:200,max:1200,help:(0,l.__)("Nur Desktop Einstellung","3d-cards-block")}),(0,t.createElement)(n.RangeControl,{label:(0,l.__)("Vertikale Position","3d-cards-block"),value:g,onChange:e=>d("vertPos",e),min:-300,max:300,allowReset:!o,resetFallbackValue:null}),(0,t.createElement)(n.RangeControl,{label:(0,l.__)("Horizontale Position","3d-cards-block"),value:p,onChange:e=>d("horPos",e),min:-300,max:300,allowReset:!o,resetFallbackValue:null}),(0,t.createElement)(n.__experimentalHStack,{spacing:2},(0,t.createElement)("span",null,(0,l.__)("Kamera-Neigung:","3d-cards-block")," ",null!=u?u:m("cameraRotateX"),"°")),(0,t.createElement)(n.ButtonGroup,null,(0,t.createElement)(n.Button,{variant:"secondary",onClick:()=>{const e=null!=u?u:m("cameraRotateX");d("cameraRotateX",Math.max(0,e-5))}},"▼ -5°"),(0,t.createElement)(n.Button,{variant:"secondary",onClick:()=>{const e=null!=u?u:m("cameraRotateX");d("cameraRotateX",Math.min(90,e+5))}},"▲ +5°"),!o&&(0,t.createElement)(n.Button,{variant:"tertiary",onClick:()=>d("cameraRotateX",null),disabled:null===u,label:"Reset",icon:"image-rotate"},"✕")),(0,t.createElement)(n.ToggleControl,{label:(0,l.__)("Orthografische Ansicht","3d-cards-block"),checked:null!=h?h:m("orthographic"),onChange:e=>d("orthographic",e)}))})),(0,t.createElement)(n.PanelBody,{title:(0,l.__)("Logo Einstellungen","3d-cards-block"),initialOpen:!1},(0,t.createElement)(n.RangeControl,{label:(0,l.__)("Logo-Größe","3d-cards-block"),value:g,onChange:e=>c({logoSize:e}),min:20,max:300}),(0,t.createElement)(n.RangeControl,{label:(0,l.__)("Logo X-Position (%)","3d-cards-block"),value:p,onChange:e=>c({logoX:e}),min:0,max:100}),(0,t.createElement)(n.RangeControl,{label:(0,l.__)("Logo Y-Position (%)","3d-cards-block"),value:u,onChange:e=>c({logoY:e}),min:0,max:100})),(0,t.createElement)(n.PanelBody,{title:(0,l.__)("Text Einstellungen","3d-cards-block"),initialOpen:!1},(0,t.createElement)(n.RangeControl,{label:(0,l.__)("Schriftgröße","3d-cards-block"),value:E,onChange:e=>c({fontSize:e}),min:8,max:32}),(0,t.createElement)(n.RangeControl,{label:(0,l.__)("Titel Y-Position","3d-cards-block"),value:h,onChange:e=>c({titleY:e}),min:8,max:100}),(0,t.createElement)(n.RangeControl,{label:(0,l.__)("Titel X-Position","3d-cards-block"),value:_,onChange:e=>c({titleX:e}),min:8,max:200}),(0,t.createElement)(n.RangeControl,{label:(0,l.__)("Untertitel Y-Position (%)","3d-cards-block"),value:k,onChange:e=>c({subtitleY:e}),min:0,max:200}),(0,t.createElement)(n.RangeControl,{label:(0,l.__)("Untertitel X-Position","3d-cards-block"),value:v,onChange:e=>c({subtitleX:e}),min:8,max:100})),(0,t.createElement)(n.PanelBody,{title:(0,l.__)("Farben","3d-cards-block"),initialOpen:!1},(0,t.createElement)(n.__experimentalVStack,{spacing:4},(0,t.createElement)("div",null,(0,t.createElement)("p",{style:{marginBottom:"8px",fontWeight:500}},(0,l.__)("Kartenfarbe","3d-cards-block")),(0,t.createElement)(n.ColorPicker,{color:R,onChange:e=>c({cardFaceColor:e}),enableAlpha:!1})),(0,t.createElement)("div",null,(0,t.createElement)("p",{style:{marginBottom:"8px",fontWeight:500}},(0,l.__)("Randfarbe","3d-cards-block")),(0,t.createElement)(n.ColorPicker,{color:w,onChange:e=>c({cardBorderColor:e}),enableAlpha:!1})),(0,t.createElement)("div",null,(0,t.createElement)("p",{style:{marginBottom:"8px",fontWeight:500}},(0,l.__)("Dicke Gradient Start","3d-cards-block")),(0,t.createElement)(n.ColorPicker,{color:P,onChange:e=>c({depthColor1:e}),enableAlpha:!1})),(0,t.createElement)("div",null,(0,t.createElement)("p",{style:{marginBottom:"8px",fontWeight:500}},(0,l.__)("Dicke Gradient Ende","3d-cards-block")),(0,t.createElement)(n.ColorPicker,{color:B,onChange:e=>c({depthColor2:e}),enableAlpha:!1}))))),F&&(0,t.createElement)(r,{cards:i,onChange:e=>c({cards:e}),onClose:()=>U(!1)}),(0,t.createElement)("div",{...q,style:{minHeight:`${T}px`}},(0,t.createElement)("div",{className:"cards3d-preview-container",style:{perspective:Z?"none":"1000px",minHeight:`${T}px`,border:"desktop"!==A?"2px dashed #e4e8ec":"none",position:"relative"}},"desktop"!==A&&(0,t.createElement)("div",{style:{position:"absolute",top:10,right:10,background:"#eee",padding:"4px 8px",borderRadius:"4px",fontSize:"10px",textTransform:"uppercase",fontWeight:"bold",zIndex:10}},A," Preview"),(0,t.createElement)("div",{className:"cards3d-container",style:{transform:`translateX(${I}px) rotateX(${j}deg) rotateZ(45deg) scale3d(${J}, ${J}, ${J})`,marginBottom:`${G}px`,"--card-depth":`${s}px`}},i.map((e,l)=>{const a=l*d,n=l*m,o=l*b;return(0,t.createElement)("div",{key:l,className:"cards3d-card",style:{transform:`translateZ(${a}px) translateX(${n}px) translateY(${o}px)`}},(0,t.createElement)("div",{className:"cards3d-face",style:{background:R,boxShadow:`0 0 0 1px ${w}`}}),(0,t.createElement)("div",{className:"cards3d-edge-bottom",style:{background:`linear-gradient(to bottom, ${P}, ${B})`}}),(0,t.createElement)("div",{className:"cards3d-edge-right",style:{background:`linear-gradient(to right, ${P}, ${B})`}}),(0,t.createElement)("div",{className:"cards3d-content"},(0,t.createElement)("div",{className:"cards3d-logo",style:{width:`${g}px`,height:`${g}px`,left:`${p}%`,top:`${u}%`},dangerouslySetInnerHTML:{__html:e.svg}}),(0,t.createElement)("span",{className:"cards3d-title",style:{bottom:`${h}px`,left:`${_}px`,fontSize:`${E}px`}},e.title),(0,t.createElement)("span",{className:"cards3d-subtitle",style:{bottom:`${k}%`,right:`${v}px`,fontSize:`${Math.round(.7*E)}px`}},e.subtitle)))})))))},save:()=>null})}},l={};function a(e){var n=l[e];if(void 0!==n)return n.exports;var o=l[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,l,n,o)=>{if(!l){var r=1/0;for(d=0;d<e.length;d++){for(var[l,n,o]=e[d],c=!0,i=0;i<l.length;i++)(!1&o||r>=o)&&Object.keys(a.O).every(e=>a.O[e](l[i]))?l.splice(i--,1):(c=!1,o<r&&(r=o));if(c){e.splice(d--,1);var s=n();void 0!==s&&(t=s)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[l,n,o]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};a.O.j=t=>0===e[t];var t=(t,l)=>{var n,o,[r,c,i]=l,s=0;if(r.some(t=>0!==e[t])){for(n in c)a.o(c,n)&&(a.m[n]=c[n]);if(i)var d=i(a)}for(t&&t(l);s<r.length;s++)o=r[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},l=globalThis.webpackChunk_3d_cards_block=globalThis.webpackChunk_3d_cards_block||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var n=a.O(void 0,[350],()=>a(4));n=a.O(n)})();