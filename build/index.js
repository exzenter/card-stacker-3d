(()=>{"use strict";var e,t={4(){const e=window.wp.blocks,t=window.React,a=window.wp.i18n,l=window.wp.blockEditor,n=window.wp.components,o=window.wp.element;function r({cards:e,onChange:l,onClose:r}){const[c,i]=(0,o.useState)([...e]),s=(e,t,a)=>{const l=[...c];l[e]={...l[e],[t]:a},i(l)},d=(e,t)=>{const a=e+t;if(a<0||a>=c.length)return;const l=[...c];[l[e],l[a]]=[l[a],l[e]],i(l)};return(0,t.createElement)(n.Modal,{title:(0,a.__)("Karten bearbeiten","3d-cards-block"),onRequestClose:r,size:"large",style:{maxWidth:"800px",width:"100%"}},(0,t.createElement)(n.__experimentalVStack,{spacing:4},(0,t.createElement)("p",{style:{color:"#666",margin:0}},c.length," von 36 Karten verwendet"),(0,t.createElement)("div",{style:{maxHeight:"60vh",overflowY:"auto",paddingRight:"10px"}},c.map((e,l)=>(0,t.createElement)("div",{key:l,style:{padding:"16px",marginBottom:"12px",border:"1px solid #e4e8ec",borderRadius:"8px",background:"#fafafa"}},(0,t.createElement)(n.__experimentalHStack,{alignment:"top",spacing:3},(0,t.createElement)("div",{style:{flex:1}},(0,t.createElement)(n.__experimentalHStack,{spacing:2,style:{marginBottom:"12px"}},(0,t.createElement)("span",{style:{background:"#6366f1",color:"#fff",padding:"4px 10px",borderRadius:"4px",fontWeight:"bold",fontSize:"12px"}},"Karte ",l+1),(0,t.createElement)("div",{style:{flex:1}}),(0,t.createElement)(n.Button,{onClick:()=>d(l,-1),disabled:0===l,size:"small",variant:"secondary"},"▲"),(0,t.createElement)(n.Button,{onClick:()=>d(l,1),disabled:l===c.length-1,size:"small",variant:"secondary"},"▼"),(0,t.createElement)(n.Button,{onClick:()=>(e=>{if(c.length<=1)return;const t=c.filter((t,a)=>a!==e);i(t)})(l),disabled:c.length<=1,isDestructive:!0,size:"small"},"✕")),(0,t.createElement)(n.__experimentalHStack,{spacing:3,alignment:"top"},(0,t.createElement)("div",{style:{flex:1}},(0,t.createElement)(n.TextControl,{label:(0,a.__)("Titel","3d-cards-block"),value:e.title,onChange:e=>s(l,"title",e)}),(0,t.createElement)(n.TextControl,{label:(0,a.__)("Untertitel","3d-cards-block"),value:e.subtitle,onChange:e=>s(l,"subtitle",e)})),(0,t.createElement)("div",{style:{flex:2}},(0,t.createElement)(n.TextareaControl,{label:(0,a.__)("SVG Code","3d-cards-block"),value:e.svg,onChange:e=>s(l,"svg",e),rows:5,style:{fontFamily:"monospace",fontSize:"11px"}})))),(0,t.createElement)("div",{style:{width:"80px",height:"80px",border:"1px solid #ddd",borderRadius:"8px",background:"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},dangerouslySetInnerHTML:{__html:e.svg}}))))),(0,t.createElement)(n.__experimentalHStack,{spacing:3},(0,t.createElement)(n.Button,{variant:"secondary",onClick:()=>{c.length>=36||i([...c,{svg:'<svg viewBox="0 0 80 80" fill="none"><circle cx="40" cy="40" r="20" fill="#6366f1"/></svg>',title:"Neue Karte",subtitle:"Beschreibung"}])},disabled:c.length>=36},"+ ",(0,a.__)("Karte hinzufügen","3d-cards-block")),(0,t.createElement)("div",{style:{flex:1}}),(0,t.createElement)(n.Button,{variant:"tertiary",onClick:r},(0,a.__)("Abbrechen","3d-cards-block")),(0,t.createElement)(n.Button,{variant:"primary",onClick:()=>{l(c),r()}},(0,a.__)("Speichern","3d-cards-block")))))}const c=JSON.parse('{"UU":"cards3d/cards-block"}');(0,e.registerBlockType)(c.UU,{edit:function({attributes:e,setAttributes:c}){const{cards:i,cardDepth:s,zOffset:d,xOffset:m,yOffset:b,logoSize:g,logoX:p,logoY:u,titleY:h,titleX:_,subtitleY:k,subtitleX:v,fontSize:E,hoverLift:x,globalScale:f,vertPos:C,cameraRotateX:y,orthographic:S,cardFaceColor:R,cardBorderColor:w,depthColor1:P,depthColor2:B,blockHeight:T,horPos:$,globalScaleTablet:O,vertPosTablet:X,horPosTablet:z,cameraRotateXTablet:N,orthographicTablet:H,globalScaleMobile:M,vertPosMobile:K,horPosMobile:Y,cameraRotateXMobile:V,orthographicMobile:A}=e,[L,D]=(0,o.useState)(!1),[F,W]=(0,o.useState)("desktop");let G=f,U=C,I=$,j=y,Z=S;"tablet"===F?(null!=O&&(G=O),null!=X&&(U=X),null!=z&&(I=z),null!=N&&(j=N),null!=H&&(Z=H)):"mobile"===F&&(G=null!=M?M:null!=O?O:f,U=null!=K?K:null!=X?X:C,I=null!=Y?Y:null!=z?z:$,j=null!=V?V:null!=N?N:y,Z=null!=A?A:null!=H?H:S);const q=G/100,J=(0,l.useBlockProps)({className:"cards3d-editor-wrapper"});return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(n.PanelBody,{title:(0,a.__)("Karten verwalten","3d-cards-block"),initialOpen:!0},(0,t.createElement)(n.__experimentalVStack,{spacing:3},(0,t.createElement)("p",null,i.length," ",1===i.length?"Karte":"Karten"," konfiguriert"),(0,t.createElement)(n.Button,{variant:"primary",onClick:()=>D(!0),style:{width:"100%"}},(0,a.__)("Karten bearbeiten","3d-cards-block")))),(0,t.createElement)(n.PanelBody,{title:(0,a.__)("3D Einstellungen","3d-cards-block"),initialOpen:!1},(0,t.createElement)(n.RangeControl,{label:(0,a.__)("Kartendicke","3d-cards-block"),value:s,onChange:e=>c({cardDepth:e}),min:0,max:30}),(0,t.createElement)(n.RangeControl,{label:(0,a.__)("Z-Abstand","3d-cards-block"),value:d,onChange:e=>c({zOffset:e}),min:20,max:150}),(0,t.createElement)(n.RangeControl,{label:(0,a.__)("X-Verschiebung","3d-cards-block"),value:m,onChange:e=>c({xOffset:e}),min:-100,max:100}),(0,t.createElement)(n.RangeControl,{label:(0,a.__)("Y-Verschiebung","3d-cards-block"),value:b,onChange:e=>c({yOffset:e}),min:-100,max:100}),(0,t.createElement)(n.RangeControl,{label:(0,a.__)("Hover Lift","3d-cards-block"),value:x,onChange:e=>c({hoverLift:e}),min:20,max:200})),(0,t.createElement)(n.PanelBody,{title:(0,a.__)("Ansicht","3d-cards-block"),initialOpen:!1},(0,t.createElement)(n.TabPanel,{className:"cards3d-view-tabs",activeClass:"is-active",onSelect:e=>W(e),tabs:[{name:"desktop",title:"Desktop",className:"cards3d-tab-desktop"},{name:"tablet",title:"Tablet",className:"cards3d-tab-tablet"},{name:"mobile",title:"Mobile",className:"cards3d-tab-mobile"}]},l=>{const o="desktop"===l.name,r="tablet"===l.name,i="mobile"===l.name,s=t=>o?e[t]:r?e[t+"Tablet"]:i?e[t+"Mobile"]:void 0,d=(e,t)=>{o&&c({[e]:t}),r&&c({[e+"Tablet"]:t}),i&&c({[e+"Mobile"]:t})},m=t=>o?null:r?e[t]:i?null!==e[t+"Tablet"]&&void 0!==e[t+"Tablet"]?e[t+"Tablet"]:e[t]:void 0,b=s("globalScale"),g=s("vertPos"),p=s("horPos"),u=s("cameraRotateX"),h=s("orthographic");return(0,t.createElement)(n.__experimentalVStack,{spacing:4,style:{marginTop:"16px"}},!o&&(0,t.createElement)("p",{style:{fontSize:"12px",color:"#666",fontStyle:"italic",margin:0}},(0,a.__)("Werte leer lassen um Einstellungen vom größeren Gerät zu übernehmen.","3d-cards-block")),(0,t.createElement)(n.RangeControl,{label:(0,a.__)("Gesamt-Skalierung (%)","3d-cards-block"),value:b,onChange:e=>d("globalScale",e),min:50,max:350,allowReset:!o,resetFallbackValue:null,placeholder:!o&&m("globalScale")}),o&&(0,t.createElement)(n.RangeControl,{label:(0,a.__)("Block-Höhe (px)","3d-cards-block"),value:T,onChange:e=>c({blockHeight:e}),min:200,max:1200,help:(0,a.__)("Nur Desktop Einstellung","3d-cards-block")}),(0,t.createElement)(n.RangeControl,{label:(0,a.__)("Vertikale Position","3d-cards-block"),value:g,onChange:e=>d("vertPos",e),min:-300,max:300,allowReset:!o,resetFallbackValue:null}),(0,t.createElement)(n.RangeControl,{label:(0,a.__)("Horizontale Position","3d-cards-block"),value:p,onChange:e=>d("horPos",e),min:-300,max:300,allowReset:!o,resetFallbackValue:null}),(0,t.createElement)(n.__experimentalHStack,{spacing:2},(0,t.createElement)("span",null,(0,a.__)("Kamera-Neigung:","3d-cards-block")," ",null!=u?u:m("cameraRotateX"),"°")),(0,t.createElement)(n.ButtonGroup,null,(0,t.createElement)(n.Button,{variant:"secondary",onClick:()=>{const e=null!=u?u:m("cameraRotateX");d("cameraRotateX",Math.max(0,e-5))}},"▼ -5°"),(0,t.createElement)(n.Button,{variant:"secondary",onClick:()=>{const e=null!=u?u:m("cameraRotateX");d("cameraRotateX",Math.min(90,e+5))}},"▲ +5°"),!o&&(0,t.createElement)(n.Button,{variant:"tertiary",onClick:()=>d("cameraRotateX",null),disabled:null===u,label:"Reset",icon:"image-rotate"},"✕")),(0,t.createElement)(n.ToggleControl,{label:(0,a.__)("Orthografische Ansicht","3d-cards-block"),checked:null!=h?h:m("orthographic"),onChange:e=>d("orthographic",e)}))})),(0,t.createElement)(n.PanelBody,{title:(0,a.__)("Logo Einstellungen","3d-cards-block"),initialOpen:!1},(0,t.createElement)(n.RangeControl,{label:(0,a.__)("Logo-Größe","3d-cards-block"),value:g,onChange:e=>c({logoSize:e}),min:20,max:300}),(0,t.createElement)(n.RangeControl,{label:(0,a.__)("Logo X-Position (%)","3d-cards-block"),value:p,onChange:e=>c({logoX:e}),min:0,max:100}),(0,t.createElement)(n.RangeControl,{label:(0,a.__)("Logo Y-Position (%)","3d-cards-block"),value:u,onChange:e=>c({logoY:e}),min:0,max:100})),(0,t.createElement)(n.PanelBody,{title:(0,a.__)("Text Einstellungen","3d-cards-block"),initialOpen:!1},(0,t.createElement)(n.RangeControl,{label:(0,a.__)("Schriftgröße","3d-cards-block"),value:E,onChange:e=>c({fontSize:e}),min:8,max:32}),(0,t.createElement)(n.RangeControl,{label:(0,a.__)("Titel Y-Position","3d-cards-block"),value:h,onChange:e=>c({titleY:e}),min:8,max:100}),(0,t.createElement)(n.RangeControl,{label:(0,a.__)("Titel X-Position","3d-cards-block"),value:_,onChange:e=>c({titleX:e}),min:8,max:200}),(0,t.createElement)(n.RangeControl,{label:(0,a.__)("Untertitel Y-Position (%)","3d-cards-block"),value:k,onChange:e=>c({subtitleY:e}),min:0,max:200}),(0,t.createElement)(n.RangeControl,{label:(0,a.__)("Untertitel X-Position","3d-cards-block"),value:v,onChange:e=>c({subtitleX:e}),min:8,max:100})),(0,t.createElement)(n.PanelBody,{title:(0,a.__)("Farben","3d-cards-block"),initialOpen:!1},(0,t.createElement)(n.__experimentalVStack,{spacing:4},(0,t.createElement)("div",null,(0,t.createElement)("p",{style:{marginBottom:"8px",fontWeight:500}},(0,a.__)("Kartenfarbe","3d-cards-block")),(0,t.createElement)(n.ColorPicker,{color:R,onChange:e=>c({cardFaceColor:e}),enableAlpha:!1})),(0,t.createElement)("div",null,(0,t.createElement)("p",{style:{marginBottom:"8px",fontWeight:500}},(0,a.__)("Randfarbe","3d-cards-block")),(0,t.createElement)(n.ColorPicker,{color:w,onChange:e=>c({cardBorderColor:e}),enableAlpha:!1})),(0,t.createElement)("div",null,(0,t.createElement)("p",{style:{marginBottom:"8px",fontWeight:500}},(0,a.__)("Dicke Gradient Start","3d-cards-block")),(0,t.createElement)(n.ColorPicker,{color:P,onChange:e=>c({depthColor1:e}),enableAlpha:!1})),(0,t.createElement)("div",null,(0,t.createElement)("p",{style:{marginBottom:"8px",fontWeight:500}},(0,a.__)("Dicke Gradient Ende","3d-cards-block")),(0,t.createElement)(n.ColorPicker,{color:B,onChange:e=>c({depthColor2:e}),enableAlpha:!1}))))),L&&(0,t.createElement)(r,{cards:i,onChange:e=>c({cards:e}),onClose:()=>D(!1)}),(0,t.createElement)("div",{...J,style:{minHeight:`${T}px`}},(0,t.createElement)("div",{className:"cards3d-preview-container",style:{perspective:Z?"none":"1000px",minHeight:`${T}px`,border:"desktop"!==F?"2px dashed #e4e8ec":"none",position:"relative"}},"desktop"!==F&&(0,t.createElement)("div",{style:{position:"absolute",top:10,right:10,background:"#eee",padding:"4px 8px",borderRadius:"4px",fontSize:"10px",textTransform:"uppercase",fontWeight:"bold",zIndex:10}},F," Preview"),(0,t.createElement)("div",{className:"cards3d-container",style:{transform:`translateX(${I}px) rotateX(${j}deg) rotateZ(45deg) scale3d(${q}, ${q}, ${q})`,marginBottom:`${U}px`,"--card-depth":`${s}px`}},i.map((e,a)=>{const l=a*d,n=a*m,o=a*b;return(0,t.createElement)("div",{key:a,className:"cards3d-card",style:{transform:`translateZ(${l}px) translateX(${n}px) translateY(${o}px)`}},(0,t.createElement)("div",{className:"cards3d-face",style:{background:R,boxShadow:`0 0 0 1px ${w}`}}),(0,t.createElement)("div",{className:"cards3d-edge-bottom",style:{background:`linear-gradient(to bottom, ${P}, ${B})`}}),(0,t.createElement)("div",{className:"cards3d-edge-right",style:{background:`linear-gradient(to right, ${P}, ${B})`}}),(0,t.createElement)("div",{className:"cards3d-content"},(0,t.createElement)("div",{className:"cards3d-logo",style:{width:`${g}px`,height:`${g}px`,left:`${p}%`,top:`${u}%`},dangerouslySetInnerHTML:{__html:e.svg}}),(0,t.createElement)("span",{className:"cards3d-title",style:{bottom:`${h}px`,left:`${_}px`,fontSize:`${E}px`}},e.title),(0,t.createElement)("span",{className:"cards3d-subtitle",style:{bottom:`${k}%`,right:`${v}px`,fontSize:`${Math.round(.7*E)}px`}},e.subtitle)))})))))},save:()=>null})}},a={};function l(e){var n=a[e];if(void 0!==n)return n.exports;var o=a[e]={exports:{}};return t[e](o,o.exports,l),o.exports}l.m=t,e=[],l.O=(t,a,n,o)=>{if(!a){var r=1/0;for(d=0;d<e.length;d++){for(var[a,n,o]=e[d],c=!0,i=0;i<a.length;i++)(!1&o||r>=o)&&Object.keys(l.O).every(e=>l.O[e](a[i]))?a.splice(i--,1):(c=!1,o<r&&(r=o));if(c){e.splice(d--,1);var s=n();void 0!==s&&(t=s)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,n,o]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var n,o,[r,c,i]=a,s=0;if(r.some(t=>0!==e[t])){for(n in c)l.o(c,n)&&(l.m[n]=c[n]);if(i)var d=i(l)}for(t&&t(a);s<r.length;s++)o=r[s],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(d)},a=globalThis.webpackChunk_3d_cards_block=globalThis.webpackChunk_3d_cards_block||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var n=l.O(void 0,[350],()=>l(4));n=l.O(n)})();